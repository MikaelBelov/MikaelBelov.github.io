# üéØ –ö—Ä–∞—É–¥—Å–æ—Ä—Å–∏–Ω–≥–æ–≤–∞—è —Ä–∞–∑–º–µ—Ç–∫–∞ —Å—Ç–∞—Ç–µ–π –®–∞–Ω–∏–Ω–∫–∏

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–∑–º–µ—Ç–∫–∏ —Å—Ç–∞—Ç–µ–π –∏–∑ CyberLeninka —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ Google Sheets.

---

## üìÅ –§–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ

```
shaninka-annotation/
‚îú‚îÄ‚îÄ index.html              ‚Üê –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ app.js                  ‚Üê –õ–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ config.js               ‚Üê –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–ù–£–ñ–ù–û –û–¢–†–ï–î–ê–ö–¢–ò–†–û–í–ê–¢–¨!)
‚îú‚îÄ‚îÄ google-apps-script.js   ‚Üê –ö–æ–¥ –¥–ª—è Google Sheets
‚îî‚îÄ‚îÄ README.md               ‚Üê –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (3 —à–∞–≥–∞)

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π Google Apps Script

#### 1.1 –û—Ç–∫—Ä–æ–π —Ç–∞–±–ª–∏—Ü—É
https://docs.google.com/spreadsheets/d/1Ao-RCt8RJa90OFScca7Jtl7U0xhW7Nl0PXPyAbCQ6H0/edit

#### 1.2 –û—Ç–∫—Ä–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞
**–†–∞—Å—à–∏—Ä–µ–Ω–∏—è** ‚Üí **Apps Script**

#### 1.3 –í—Å—Ç–∞–≤—å –∫–æ–¥
- –£–¥–∞–ª–∏ –≤–µ—Å—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥
- –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª `google-apps-script.js`
- –°–∫–æ–ø–∏—Ä—É–π –í–°–Å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
- –í—Å—Ç–∞–≤—å –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä Apps Script
- –ù–∞–∂–º–∏ **Ctrl+S** (Cmd+S –Ω–∞ Mac) –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

#### 1.4 –†–∞–∑–≤–µ—Ä–Ω–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
1. –ù–∞–∂–º–∏ **Deploy** ‚Üí **New deployment**
2. –ù–∞–∂–º–∏ –∑–Ω–∞—á–æ–∫ ‚öôÔ∏è —Ä—è–¥–æ–º —Å "Select type"
3. –í—ã–±–µ—Ä–∏ **Web app**
4. –ù–∞—Å—Ç—Ä–æ–π:
   - Execute as: **Me**
   - Who has access: **Anyone** ‚Üê –í–ê–ñ–ù–û!
5. –ù–∞–∂–º–∏ **Deploy**
6. **Authorize access** ‚Üí –≤—ã–±–µ—Ä–∏ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç
7. –£–≤–∏–¥–∏—à—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ ‚Üí **Advanced** ‚Üí **Go to [–Ω–∞–∑–≤–∞–Ω–∏–µ] (unsafe)** ‚Üí **Allow**

#### 1.5 –°–∫–æ–ø–∏—Ä—É–π URL
–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —É–≤–∏–¥–∏—à—å:
```
Web app URL: https://script.google.com/macros/s/AKfycbxxxxxxx.../exec
```

**–°–ö–û–ü–ò–†–£–ô –í–ï–°–¨ –≠–¢–û–¢ URL!**

---

### –®–∞–≥ 2: –í—Å—Ç–∞–≤—å URL –≤ config.js

#### 2.1 –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª `config.js`

#### 2.2 –ù–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É:
```javascript
appsScriptUrl: '–í–°–¢–ê–í–¨_–°–Æ–î–ê_URL_APPS_SCRIPT'
```

#### 2.3 –ó–∞–º–µ–Ω–∏ –Ω–∞ —Å–≤–æ–π URL:
```javascript
appsScriptUrl: 'https://script.google.com/macros/s/AKfycbxxxxxxx.../exec'
```

#### 2.4 –°–æ—Ö—Ä–∞–Ω–∏ —Ñ–∞–π–ª

---

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ

#### 3.1 –û—Ç–∫—Ä–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª

**Mac:**
```bash
cd ~/Desktop/shaninka-annotation
python3 -m http.server 8000
```

**Windows:**
```cmd
cd %USERPROFILE%\Desktop\shaninka-annotation
python -m http.server 8000
```

#### 3.2 –û—Ç–∫—Ä–æ–π –±—Ä–∞—É–∑–µ—Ä
http://localhost:8000

#### 3.3 –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–±–æ—Ç—É
1. –î–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –ø–µ—Ä–≤–∞—è —Å—Ç–∞—Ç—å—è
2. –û—Ç–º–µ—Ç—å —á–µ–∫–±–æ–∫—Å—ã
3. –ù–∞–∂–º–∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
4. –û—Ç–∫—Ä–æ–π Google Sheets ‚Üí –ª–∏—Å—Ç "Annotations"
5. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø–æ—è–≤–∏–ª–∞—Å—å –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞!

---

## ‚úÖ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è

### –í –±—Ä–∞—É–∑–µ—Ä–µ:
- **–°–ª–µ–≤–∞:** –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç–∞—Ç—å–µ + —Ñ–æ—Ä–º–∞ —Ä–∞–∑–º–µ—Ç–∫–∏
- **–°–ø—Ä–∞–≤–∞:** Iframe —Å —Ç–µ–∫—Å—Ç–æ–º —Å—Ç–∞—Ç—å–∏ —Å CyberLeninka
- **–í–≤–µ—Ä—Ö—É:** –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä

### –í Google Sheets:
–õ–∏—Å—Ç "Annotations" –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏:
| item_id | word_mention | author_affiliation | ip | timestamp |
|---------|--------------|--------------------|----|-----------|
| https://... | TRUE | FALSE | 192.168.1.1 | 2024-02-01... |

---

## üîß Troubleshooting

### "–ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Apps Script URL"
‚Üí –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å—Ç–∞–≤–∏–ª URL –≤ config.js (–®–∞–≥ 2)

### –û—à–∏–±–∫–∞ 401 –∏–ª–∏ 403
‚Üí –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤ Apps Script –≤—ã–±—Ä–∞–Ω–æ "Who has access: Anyone"

### –î–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ
‚Üí –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ª–∏—Å—Ç –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ—á–Ω–æ "Annotations"
‚Üí –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ –µ—Å—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏

### "Failed to load resource"
‚Üí –ó–∞–ø—É—Å–∫–∞–π —á–µ—Ä–µ–∑ http-—Å–µ—Ä–≤–µ—Ä, –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–π index.html –Ω–∞–ø—Ä—è–º—É—é!

### Safari: "–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è"
‚Üí –û—Ç–∫—Ä–æ–π **Web Inspector** (Cmd+Option+I) ‚Üí –≤–∫–ª–∞–¥–∫–∞ Console
‚Üí –°–∫–æ–ø–∏—Ä—É–π –∫—Ä–∞—Å–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –ø—Ä–æ–≤–µ—Ä—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Apps Script

---

## üìä –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ò–∑ Google Sheets:
```
File ‚Üí Download ‚Üí CSV / Excel
```

### –ß–µ—Ä–µ–∑ Python:
```python
import gspread
gc = gspread.service_account()
sh = gc.open_by_key('1Ao-RCt8RJa90OFScca7Jtl7U0xhW7Nl0PXPyAbCQ6H0')
data = sh.worksheet('Annotations').get_all_records()
```

---

## üé® –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

- **Ctrl+Enter** - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é
- **Ctrl+S** - –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç

---

## üåê –î–µ–ø–ª–æ–π –Ω–∞ GitHub Pages (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
git add .
git commit -m "Add annotation interface"
git push

# –í GitHub: Settings ‚Üí Pages ‚Üí Source: main branch
```

–ë—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ: `https://—Ç–≤–æ–π-username.github.io/—Ç–≤–æ–π-—Ä–µ–ø–æ/`

---

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Google Sheets

### –õ–∏—Å—Ç "Data" (–∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
| A | B | C | D | E | F | G | H | I | J | K | L |
|---|---|---|---|---|---|---|---|---|---|---|---|
| oai_identifier | datestamp | setSpec | - | title | authors | url | publisher | type | - | journal_name | publication_year |

### –õ–∏—Å—Ç "Annotations" (—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
| A | B | C | D | E |
|---|---|---|---|---|
| item_id | word_mention | author_affiliation | ip | timestamp |

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- –¢–≤–æ—è —Ç–∞–±–ª–∏—Ü–∞: https://docs.google.com/spreadsheets/d/1Ao-RCt8RJa90OFScca7Jtl7U0xhW7Nl0PXPyAbCQ6H0/edit
- Apps Script –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://developers.google.com/apps-script
- Google Sheets API: https://developers.google.com/sheets/api

---

## ‚ùì –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å–µ —à–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
2. –û—Ç–∫—Ä–æ–π –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console)
3. –ü–æ—Å–º–æ—Ç—Ä–∏ –æ—à–∏–±–∫–∏
4. –ü—Ä–æ–≤–µ—Ä—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ config.js

---

–£–¥–∞—á–∏! üöÄ
